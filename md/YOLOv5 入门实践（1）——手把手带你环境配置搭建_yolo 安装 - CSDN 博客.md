> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [blog.csdn.net](https://blog.csdn.net/weixin_43334693/article/details/129981848?spm=1001.2014.3001.5501)

#### ![](https://img-blog.csdnimg.cn/6ef288a034584791af0c1ccf0cccad6a.gif)Â 

![](https://img-blog.csdnimg.cn/1c537274f8ad489b98a3e60d88f3d991.jpeg)
----------------------------------------------------------------------

å‰è¨€
--

è¿™ä¸¤å¤©æˆ‘å°† pycharm ç¤¾åŒºç‰ˆæ¢æˆäº†ä¸“ä¸šç‰ˆï¼Œä¹Ÿé¡ºå¸¦ç€æŠŠç¯å¢ƒä» CPU æ”¹æˆäº† GPU ç‰ˆï¼Œæœ¬ç¯‡æ–‡ç« ä¹Ÿå°±æ˜¯æˆ‘ä¸ªäººé…ç½®è¿‡ç¨‹çš„ä¸€ä¸ªç®€å•è®°å½•ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°å¤§å®¶å•¦~

![](https://img-blog.csdnimg.cn/5267fbcad7d841f384da3e5d4bd596c5.gif)

![](https://img-blog.csdnimg.cn/962f7cb1b48f44e29d9beb1d499d0530.gif)â€‹Â  Â ğŸ€æœ¬äºº [YOLOv5 æºç ](https://so.csdn.net/so/search?q=YOLOv5%E6%BA%90%E7%A0%81&spm=1001.2101.3001.7020 "YOLOv5æºç ")è¯¦è§£ç³»åˆ—ï¼šÂ Â 

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ1ï¼‰â€”â€”é¡¹ç›®ç›®å½•ç»“æ„è§£æ](https://blog.csdn.net/weixin_43334693/article/details/129356033?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ1ï¼‰â€”â€”é¡¹ç›®ç›®å½•ç»“æ„è§£æ")

[â€‹â€‹â€‹â€‹â€‹â€‹YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ2ï¼‰â€”â€”æ¨ç†éƒ¨åˆ† detect.py](https://blog.csdn.net/weixin_43334693/article/details/129349094?spm=1001.2014.3001.5501 "â€‹â€‹â€‹â€‹â€‹â€‹YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ2ï¼‰â€”â€”æ¨ç†éƒ¨åˆ†detect.py")

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ3ï¼‰â€”â€”è®­ç»ƒéƒ¨åˆ† train.py](https://blog.csdn.net/weixin_43334693/article/details/129460666?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ3ï¼‰â€”â€”è®­ç»ƒéƒ¨åˆ†train.py")

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ4ï¼‰â€”â€”éªŒè¯éƒ¨åˆ† valï¼ˆtestï¼‰.py](https://blog.csdn.net/weixin_43334693/article/details/129649553?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ4ï¼‰â€”â€”éªŒè¯éƒ¨åˆ†valï¼ˆtestï¼‰.py")

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ5ï¼‰â€”â€”é…ç½®æ–‡ä»¶ yolov5s.yaml](https://blog.csdn.net/weixin_43334693/article/details/129697521?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ5ï¼‰â€”â€”é…ç½®æ–‡ä»¶yolov5s.yaml")

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ6ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ1ï¼‰yolo.py](https://blog.csdn.net/weixin_43334693/article/details/129803802?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ6ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ1ï¼‰yolo.py")

[YOLOv5 æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ7ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ2ï¼‰common.py](https://blog.csdn.net/weixin_43334693/article/details/129854764?spm=1001.2014.3001.5501 "YOLOv5æºç é€è¡Œè¶…è¯¦ç»†æ³¨é‡Šä¸è§£è¯»ï¼ˆ7ï¼‰â€”â€”ç½‘ç»œç»“æ„ï¼ˆ2ï¼‰common.py")

**ç›®å½•**
------

[å‰è¨€](#%E5%89%8D%E8%A8%80)

[ä¸€ã€äº†è§£æ‰€éœ€é…ç½®](#t3)

[1.1 CUDA](#t4)

[1.2 cuDNN](#t5)

[1.3 Anconda](#t6)

[1.4Â pycharm](#t7)

[1.5 pytorch](#t8)

[äºŒã€å®‰è£… CUDA å’Œ cuDNN](#t9)

[2.1 CUDA çš„ä¸‹è½½ä¸å®‰è£…](#t10)

[2.2 cuDNN çš„ä¸‹è½½ä¸å®‰è£…](#t11)

[ä¸‰ã€å®‰è£… Anaconda](#t12) 

[å››ã€å®‰è£… pytorch](#t13) 

[äº”ã€é…ç½® YOLOv5 ç¯å¢ƒ](#t14)

[å…­ã€æµ‹è¯•](#t15)

![](https://img-blog.csdnimg.cn/b145058acd8d456ab453fd67bc622f98.gif)

ä¸€ã€äº†è§£æ‰€éœ€é…ç½®
--------

### 1.1 CUDA

2006 å¹´ï¼ŒNVIDIA å…¬å¸å‘å¸ƒäº† CUDA(Compute Unified Device Architecture)ï¼Œæ˜¯ä¸€ç§æ–°çš„æ“ä½œ GPU è®¡ç®—çš„ç¡¬ä»¶å’Œè½¯ä»¶æ¶æ„ï¼Œæ˜¯å»ºç«‹åœ¨ NVIDIA çš„ GPUs ä¸Šçš„ä¸€ä¸ªé€šç”¨å¹¶è¡Œè®¡ç®—å¹³å°å’Œç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒæä¾›äº† GPU ç¼–ç¨‹çš„ç®€æ˜“æ¥å£ï¼ŒåŸºäº CUDA ç¼–ç¨‹å¯ä»¥æ„å»ºåŸºäº GPU è®¡ç®—çš„åº”ç”¨ç¨‹åºï¼Œåˆ©ç”¨ GPUs çš„å¹¶è¡Œè®¡ç®—å¼•æ“æ¥æ›´åŠ é«˜æ•ˆåœ°è§£å†³æ¯”è¾ƒå¤æ‚çš„è®¡ç®—éš¾é¢˜ã€‚å®ƒå°† GPU è§†ä½œä¸€ä¸ªæ•°æ®å¹¶è¡Œè®¡ç®—è®¾å¤‡ï¼Œè€Œä¸”æ— éœ€æŠŠè¿™äº›è®¡ç®—æ˜ å°„åˆ°å›¾å½¢ APIã€‚æ“ä½œç³»ç»Ÿçš„å¤šä»»åŠ¡æœºåˆ¶å¯ä»¥åŒæ—¶ç®¡ç† CUDA è®¿é—® GPU å’Œå›¾å½¢ç¨‹åºçš„è¿è¡Œåº“ï¼Œå…¶è®¡ç®—ç‰¹æ€§æ”¯æŒåˆ©ç”¨ CUDA ç›´è§‚åœ°ç¼–å†™ GPU æ ¸å¿ƒç¨‹åºã€‚

### 1.2 [cuDNN](https://so.csdn.net/so/search?q=cuDNN&spm=1001.2101.3001.7020)

cuDNN æ˜¯ NVIDIACUDAÂ® æ·±åº¦ç¥ç»ç½‘ç»œåº“ï¼Œæ˜¯ GPU åŠ é€Ÿçš„ç”¨äºæ·±åº¦ç¥ç»ç½‘ç»œçš„åŸè¯­åº“ã€‚cuDNN ä¸ºæ ‡å‡†ä¾‹ç¨‹æä¾›äº†é«˜åº¦ä¼˜åŒ–çš„å®ç°ï¼Œä¾‹å¦‚å‘å‰å’Œå‘åå·ç§¯ï¼Œæ± åŒ–ï¼Œè§„èŒƒåŒ–å’Œæ¿€æ´»å±‚ã€‚  
å…¨çƒçš„æ·±åº¦å­¦ä¹ ç ”ç©¶äººå‘˜å’Œæ¡†æ¶å¼€å‘äººå‘˜éƒ½ä¾èµ– cuDNN æ¥å®ç°é«˜æ€§èƒ½ GPU åŠ é€Ÿã€‚å®ƒä½¿ä»–ä»¬å¯ä»¥ä¸“æ³¨äºè®­ç»ƒç¥ç»ç½‘ç»œå’Œå¼€å‘è½¯ä»¶åº”ç”¨ç¨‹åºï¼Œè€Œä¸å¿…èŠ±æ—¶é—´åœ¨åº•å±‚ GPU æ€§èƒ½è°ƒæ•´ä¸Šã€‚cuDNN çš„åŠ å¿«å¹¿æ³›ä½¿ç”¨çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ŒåŒ…æ‹¬ Caffe2ï¼ŒChainerï¼ŒKerasï¼ŒMATLABï¼ŒMxNetï¼ŒPyTorch å’Œ TensorFlowã€‚å·²å°† cuDNN é›†æˆåˆ°æ¡†æ¶ä¸­çš„ NVIDIA ä¼˜åŒ–æ·±åº¦å­¦ä¹ æ¡†æ¶å®¹å™¨ï¼Œè®¿é—® NVIDIA GPU CLOUD äº†è§£æ›´å¤šä¿¡æ¯å¹¶å¼€å§‹ä½¿ç”¨ã€‚

### 1.3 Anconda

Anaconda æŒ‡çš„æ˜¯ä¸€ä¸ªå¼€æºçš„ Python å‘è¡Œç‰ˆæœ¬ï¼Œå…¶åŒ…å«äº† condaã€Python ç­‰ 180 å¤šä¸ªç§‘å­¦åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚ å› ä¸ºåŒ…å«äº†å¤§é‡çš„ç§‘å­¦åŒ…ï¼ŒAnaconda çš„ä¸‹è½½æ–‡ä»¶æ¯”è¾ƒå¤§ï¼ˆçº¦ 531 MBï¼‰ï¼Œå¦‚æœåªéœ€è¦æŸäº›åŒ…ï¼Œæˆ–è€…éœ€è¦èŠ‚çœå¸¦å®½æˆ–å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Miniconda è¿™ä¸ªè¾ƒå°çš„å‘è¡Œç‰ˆï¼ˆä»…åŒ…å« conda å’Œ Pythonï¼‰ã€‚  
Anaconda åŒ…æ‹¬ Condaã€Python ä»¥åŠä¸€å¤§å †å®‰è£…å¥½çš„å·¥å…·åŒ…ï¼Œæ¯”å¦‚ï¼šnumpyã€pandas ç­‰

### 1.4Â pycharm

pycharm æ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—æœºç¼–ç¨‹çš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œä¸»è¦ç”¨äº python è¯­è¨€å¼€å‘ï¼Œå¹¶æ”¯æŒä½¿ç”¨ Django è¿›è¡Œç½‘é¡µå¼€å‘ã€‚ç®€å•æ¥è¯´å°±æ˜¯äººå·¥æ™ºèƒ½çš„ä¾¿æ·è¯­è¨€ã€‚

### 1.5 pytorch

[PyTorch](https://so.csdn.net/so/search?q=PyTorch&spm=1001.2101.3001.7020 "PyTorch") æ˜¯ä¸€ä¸ªå¼€æºçš„ Python æœºå™¨å­¦ä¹ åº“ï¼Œå…¶å‰èº«æ˜¯ 2002 å¹´è¯ç”Ÿäºçº½çº¦å¤§å­¦ çš„ Torchã€‚å®ƒæ˜¯ç¾å›½ Facebook å…¬å¸ä½¿ç”¨ python è¯­è¨€å¼€å‘çš„ä¸€ä¸ªæ·±åº¦å­¦ä¹ çš„æ¡†æ¶ï¼Œ2017 å¹´ 1 æœˆï¼ŒFacebook äººå·¥æ™ºèƒ½ç ”ç©¶é™¢ï¼ˆFAIRï¼‰åœ¨ GitHub ä¸Šå¼€æºäº† PyTorchã€‚

æƒ³è¿›ä¸€æ­¥å­¦ä¹  pytorch çš„å‹å‹ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ä¸“æ å™¢ï¼â†’[Pytorch_è·¯äººè´¾'Ï‰'çš„åšå®¢ - CSDN åšå®¢](https://blog.csdn.net/weixin_43334693/category_12186888.html?spm=1001.2014.3001.5482 "Pytorch_è·¯äººè´¾'Ï‰'çš„åšå®¢-CSDNåšå®¢")

äºŒã€å®‰è£… CUDA å’Œ cuDNN
-----------------

å®˜æ–¹æ•™ç¨‹

**CUDAï¼š**[https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html](https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html "https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html")

**cuDNNï¼š**[Installation Guide :: NVIDIA Deep Learning cuDNN Documentation](https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html#installwindows "Installation Guide :: NVIDIA Deep Learning cuDNN Documentation")

### 2.1 CUDA çš„ä¸‹è½½ä¸å®‰è£…

**1. é¦–å…ˆæŸ¥çœ‹è‡ªå·± CUDA çš„ç‰ˆæœ¬**ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š

ï¼ˆ1ï¼‰æ‰“å¼€ [nvidia](https://so.csdn.net/so/search?q=nvidia&spm=1001.2101.3001.7020 "nvidia")ï¼ˆæ¡Œé¢å³é”®ï¼‰-> é€‰æ‹©å·¦ä¸‹è§’çš„ç³»ç»Ÿä¿¡æ¯ -> ç»„ä»¶

![](https://img-blog.csdnimg.cn/e9b06bb5f9524d0cb990e3221142d521.png)

![](https://img-blog.csdnimg.cn/8982dce5452d4395b5c8087eca2868c7.png)

ï¼ˆ2ï¼‰ç›´æ¥åœ¨ cmd ä¸­è¾“å…¥

```
nvidia-smi

```

è¿™é‡Œå°±å¯ä»¥ç›´æ¥æŸ¥çœ‹å•¦Â 

![](https://img-blog.csdnimg.cn/dae2eea30a54471fa1fde37061c6801e.png)Â Â 

 **2. ç„¶åå¼€å§‹è¿›å…¥å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬**ï¼Œä¸‹è½½åœ°å€â†’Â Â [å®˜æ–¹é©±åŠ¨ | NVIDIA](https://www.nvidia.cn/Download/index.aspx?lang=cn "å®˜æ–¹é©±åŠ¨ | NVIDIA")

![](https://img-blog.csdnimg.cn/df071599a7f2419383d08af35c79d5d2.png)

æ ¹æ®è‡ªå·±æŸ¥åˆ°çš„ç‰ˆæœ¬ä¸‹è½½å¯¹åº”æ—¢å¯ã€‚

ç„¶åå°±æ˜¯æ¼«é•¿çš„ç­‰å¾… ing

![](https://img-blog.csdnimg.cn/fbcde3d1436d4c9097e38fadd6364f25.png)

 **3. ä¸‹è½½å®Œäº†å°±å¼€å§‹å®‰è£…**

![](https://img-blog.csdnimg.cn/c18232060f824fc191b7b8397be952d2.png)

Â ç‚¹å‡»ä¸‹ä¸€æ­¥

![](https://img-blog.csdnimg.cn/927e49349759432f8ec94a00e78c1a1a.png)

Â è¿™ä¸¤ä¸ªå¯ä»¥ä¸ç”¨å‹¾é€‰

![](https://img-blog.csdnimg.cn/8b1bdfec8edd4ce286b5a085d2564fb8.png)

**4. æŸ¥çœ‹ç¯å¢ƒå˜é‡**

ç‚¹å‡»å¼€å§‹ --> æœç´¢é«˜çº§ç³»ç»Ÿè®¾ç½® --> æŸ¥çœ‹ç¯å¢ƒå˜é‡

ã€å¦‚æœæ²¡æœ‰éœ€è¦è‡ªå·±æ·»åŠ ã€‘

![](https://img-blog.csdnimg.cn/0a053a8a259e4a75a249e12369161827.png)

Â ![](https://img-blog.csdnimg.cn/c16e30a9b2a8406ab47e63ff9e364ef5.png)

Â ![](https://img-blog.csdnimg.cn/8f8e878fc83b49dbbffec51b265183ae.png)

Â ä¸€å…±å››ä¸ªç³»ç»Ÿå˜é‡ï¼Œéƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä½†æ˜¯æœ‰æ—¶åä¸¤ä¸ªç³»ç»Ÿå˜é‡å¯èƒ½ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œéœ€è¦è‡ªå·±æ·»åŠ ä¸Šå»ï¼Œæ·»åŠ æ—¶æ³¨æ„è·¯å¾„ã€‚

**5. éªŒè¯ CUDA æ˜¯å¦å®‰è£…æˆåŠŸ**

win+rï¼Œè¿è¡Œ cmdï¼Œè¾“å…¥

```
nvcc --version 
OR
nvcc -V
```

å³å¯æŸ¥çœ‹ç‰ˆæœ¬å·

![](https://img-blog.csdnimg.cn/7d58e26204124fccb19a2448d1292a0c.png)Â è¾“å…¥

```
set cuda

```

å³å¯æŸ¥çœ‹ CUDA è®¾ç½®çš„ç¯å¢ƒå˜é‡Â ![](https://img-blog.csdnimg.cn/18c321f76959404194d6ac746e2cbe3f.png)

Â è‡³æ­¤ï¼ŒCUDA å°±å·²å®‰è£…å®Œæˆã€‚ä½†æ˜¯åœ¨å®Œæˆå¼ é‡åŠ é€Ÿè¿ç®—æ—¶è¿˜éœ€è¦ cuDNN çš„è¾…åŠ©ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®‰è£… cuDNNã€‚

### 2.2 cuDNN çš„ä¸‹è½½ä¸å®‰è£…

**1. æŸ¥çœ‹ä¸ CUDA å¯¹åº”çš„ cuDNN ç‰ˆæœ¬**

![](https://img-blog.csdnimg.cn/b0a1c52eb1ec41f8a38533b71d5a7955.png)

Â **2. åœ¨å®˜ç½‘ä¸Šä¸‹è½½ã€‚å®˜ç½‘åœ°å€â†’**[cuDNN Download | NVIDIA Developer](https://developer.nvidia.com/rdp/cudnn-download "cuDNN Download | NVIDIA Developer")

ç‚¹å‡»æ³¨å†Œ

![](https://img-blog.csdnimg.cn/bf6706ea45e3491e8d8002c974d9770d.png)Â Â æ³¨å†ŒæˆåŠŸ

![](https://img-blog.csdnimg.cn/707898223fde491286f2257d22f473e6.png)

Â Â **3. å¼€å§‹ä¸‹è½½**

**![](https://img-blog.csdnimg.cn/f3dee2b76d4649f29103f463c86a44df.png)**

 **4. è§£å‹æ–‡ä»¶**

**![](https://img-blog.csdnimg.cn/7c828d1344794f74a51b674697d9a970.png)**

Â æˆ‘ä»¬ä¸‹è½½åå‘ç°å…¶å® cudnn ä¸æ˜¯ä¸€ä¸ª exe æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹åï¼Œæœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼ŒæŠŠä¸‰ä¸ªæ–‡ä»¶å¤¹æ‹·è´åˆ° cuda çš„å®‰è£…ç›®å½•ä¸‹ã€‚

![](https://img-blog.csdnimg.cn/bf68e36b930443089f5e9fb927664878.png)Â cuDNN å…¶å®æ˜¯ CUDA çš„ä¸€ä¸ªè¡¥ä¸ï¼Œä¸“ä¸ºæ·±åº¦å­¦ä¹ è¿ç®—è¿›è¡Œä¼˜åŒ–çš„ã€‚ç„¶åå†æ·»åŠ ç¯å¢ƒå˜é‡

**5. æ·»åŠ è‡³ç³»ç»Ÿå˜é‡**

å¾€ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ path æ·»åŠ å¦‚ä¸‹è·¯å¾„ï¼ˆæ ¹æ®è‡ªå·±çš„è·¯å¾„è¿›è¡Œä¿®æ”¹ï¼‰Â ![](https://img-blog.csdnimg.cn/126ad2fe10d94930bdc39100f90f3e86.png)

**7. éªŒè¯ cuDNN æ˜¯å¦å®‰è£…æˆåŠŸ**Â 

win+rï¼Œå¯åŠ¨ cmdï¼Œcd åˆ°å®‰è£…ç›®å½•ä¸‹çš„.\extras\demo_suiteï¼Œè¾“å…¥

```
åŸç›®å½•.\extras\demo_suite

```

ç„¶ååˆ†åˆ«è¾“å…¥.\bandwidthTest.exe å’Œ.\deviceQuery.exeï¼ˆè¿›åˆ°ç›®å½•åéœ€è¦ç›´æ¥è¾“ â€œbandwidthTest.exeâ€ å’Œâ€œdeviceQuery.exeâ€ï¼‰

```
.\bandwidthTest.exe

```

```
.\deviceQuery.exe

```

å¾—åˆ°ä¸‹å›¾ï¼š

![](https://img-blog.csdnimg.cn/e68b46c944ac4fb8ad8159a3777bb4df.png)

Â ![](https://img-blog.csdnimg.cn/2f7fba9831374786908ca8ef5e5d7f3a.png)

Â è‡³æ­¤ï¼ŒCUDA å’Œ cuDNN å·²å…¨éƒ¨å®‰è£…å®Œæ¯•~

ä¸‰ã€**å®‰è£… Anaconda** 
------------------

å› ä¸ºæˆ‘çš„ç”µè„‘å·²ç»æœ‰äº† Anaconda ï¼Œæ‰€ä»¥æ²¡æœ‰å†å®‰è£…ã€‚æ²¡æœ‰å®‰è£…çš„å¯ä»¥çœ‹çœ‹è¿™ä¸ªæ•™ç¨‹ï¼š

[æœ€æ–° Anaconda3 çš„å®‰è£…é…ç½®åŠä½¿ç”¨æ•™ç¨‹ï¼ˆè¯¦ç»†è¿‡ç¨‹ï¼‰_HowieXue çš„åšå®¢ - CSDN åšå®¢](https://blog.csdn.net/HowieXue/article/details/118442904?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168076111016800226510971%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168076111016800226510971&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-118442904-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=Anconda&spm=1018.2226.3001.4187 "æœ€æ–°Anaconda3çš„å®‰è£…é…ç½®åŠä½¿ç”¨æ•™ç¨‹ï¼ˆè¯¦ç»†è¿‡ç¨‹ï¼‰_HowieXueçš„åšå®¢-CSDNåšå®¢")

å››ã€å®‰è£… pytorchÂ 
-------------

åŒæ ·ï¼Œpytorch æˆ‘ç”µè„‘ä¸Šä¹Ÿå®‰è£…è¿‡äº†ï¼ˆä¸ç„¶å’‹å‡ºçš„ä¸“æ å‘¢ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ï¼‰ã€‚æ²¡æœ‰å®‰è£…çš„æ¨èå¤§å®¶çœ‹æˆ‘åŒé—¨çš„è¿™ç¯‡æ–‡ç« ï¼Œæ­¥éª¤éå¸¸è¯¦ç»†ï¼š[Win11 ä¸Š Pytorch çš„å®‰è£…å¹¶åœ¨ Pycharm ä¸Šè°ƒç”¨ PyTorch æœ€æ–°è¶…è¯¦ç»†_win11 å®‰è£… pytorch](https://blog.csdn.net/java1314777/article/details/128027977 "Win11ä¸ŠPytorchçš„å®‰è£…å¹¶åœ¨Pycharmä¸Šè°ƒç”¨PyTorchæœ€æ–°è¶…è¯¦ç»†_win11å®‰è£…pytorch")

äº”ã€é…ç½® YOLOv5 ç¯å¢ƒ
--------------

**1.yolov5 çš„æºç ä¸‹è½½**

**ä¸‹è½½åœ°å€ï¼š**[mirrors / ultralytics / yolov5 Â· GitCode](https://gitcode.net/mirrors/ultralytics/yolov5?utm_source=csdn_github_accelerator "mirrors / ultralytics / yolov5 Â· GitCode")

**æ–¹æ³•ä¸€ï¼šgit clone åˆ°æœ¬åœ°æœ¬åœ°ä»“åº“**  
[æŒ‡ä»¤]ï¼š`git clone https://github.com/ultralytics/yolov5`

**æ–¹æ³•äºŒï¼šç›´æ¥å®‰è£…å‹ç¼©åŒ…**  
æ²¡æœ‰å®‰è£… git çš„è¯ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡» â€œå…‹éš†â€ ä¸‹è½½å‹ç¼©åŒ…

Â ![](https://img-blog.csdnimg.cn/c271d26de5d7445ea1a55341c0c8e63f.png)

**2. é¢„è®­ç»ƒæ¨¡å‹ä¸‹è½½**

ä¸ºäº†ç¼©çŸ­ç½‘ç»œçš„è®­ç»ƒæ—¶é—´ï¼Œå¹¶è¾¾åˆ°æ›´å¥½çš„ç²¾åº¦ï¼Œæˆ‘ä»¬ä¸€èˆ¬åŠ è½½é¢„è®­ç»ƒæƒé‡è¿›è¡Œç½‘ç»œçš„è®­ç»ƒã€‚  
YOLOv5 ç»™æˆ‘ä»¬æä¾›äº†å‡ ä¸ªé¢„è®­ç»ƒæƒé‡ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åº”æˆ‘ä»¬ä¸åŒçš„éœ€æ±‚é€‰æ‹©ä¸åŒçš„ç‰ˆæœ¬çš„é¢„è®­ç»ƒæƒé‡ã€‚åœ¨å®é™…åœºæ™¯ä¸­æ˜¯æ¯”è¾ƒçœ‹è¿™ç§é€Ÿåº¦ï¼Œæ‰€ä»¥ YOLOv5s æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ã€‚

å°†å®‰è£…å¥½çš„é¢„è®­ç»ƒæ¨¡å‹æ”¾åœ¨ YOLO æ–‡ä»¶ä¸‹ã€‚

![](https://img-blog.csdnimg.cn/caa543a0d5704d9e96057c87d3bdd1f3.png)

  
**3. å®‰è£… yolov5 çš„ä¾èµ–é¡¹** 

é¦–å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»ã€‚conda å¸¸ç”¨æŒ‡ä»¤å¦‚ä¸‹ï¼š

*   **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š**
    
    ```
    conda create -n [è™šæ‹Ÿç¯å¢ƒå] python=[ç‰ˆæœ¬]
    
    ```
    

![](https://img-blog.csdnimg.cn/4018330236f14947a183ee59a3b0903c.png)Â ç‚¹ â€œyâ€

![](https://img-blog.csdnimg.cn/6bfb341e7aae42009a74d36c07e4b067.png)

*   **æ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒï¼š**

```
conda env list

```

![](https://img-blog.csdnimg.cn/dd33f5676fb344edb7d70726740e85bb.png)

*   Â **æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š**

```
conda activate + [è™šæ‹Ÿç¯å¢ƒå]

```

![](https://img-blog.csdnimg.cn/f5763a1427864c8f8eb94f07229aa30a.png)

**4. å®‰è£… pytorch-gup ç‰ˆçš„ç¯å¢ƒ**

ç”±äº pytorch çš„å®˜ç½‘åœ¨å›½å¤–ï¼Œä¸‹è½½ç›¸å…³çš„ç¯å¢ƒåŒ…æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»™ç¯å¢ƒæ¢æºã€‚åœ¨ pytorch ç¯å¢ƒä¸‹æ‰§è¡Œå¦‚ä¸‹çš„å‘½åç»™ç¯å¢ƒæ¢æ¸…åæºã€‚

```
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --set show_channel_urls yes
```

è¿™é‡Œè¦æ³¨æ„ç½‘é€Ÿä¸€å®šè¦å¥½ï¼Œä¸ç„¶å°±æ€»æŠ¥é”™ã€‚ä¸‹å›¾å°±æ˜¯æœ¬äººè¡€æ³ªå²ã€‚

![](https://img-blog.csdnimg.cn/5c48c308979747d0bc7b9c323026815a.png)

Â ç„¶åå°±å®‰è£…å®Œå•¦

![](https://img-blog.csdnimg.cn/9345406111d441748db4fd3e0a91a094.png)

Â æ‰“å¼€æˆ‘ä»¬ä¸‹è½½å¥½çš„æºç ï¼Œç‚¹å‡»è®¾ç½® setting

![](https://img-blog.csdnimg.cn/619d95fe6b7140a6ba8bc6abaaaa68b7.png)

æŒ‰ä»¥ä¸‹æ­¥éª¤å°± OK å•¦ï¼

![](https://img-blog.csdnimg.cn/323544fcca6a496c99bbad60c1ed5c6c.png)

å…­ã€æµ‹è¯•
----

**1. æˆ‘ä»¬å…ˆè¿è¡Œ detect.py**

![](https://img-blog.csdnimg.cn/076e71f032ac4407bcb38e9fc9ae9f0f.png)

Â è¿™æ—¶ä¼šå‘ç°å‡ºç°é”™è¯¯ï¼š

AttributeError: 'Upsample' object has no attribute 'recompute scale_factor'

![](https://img-blog.csdnimg.cn/78d72e1dc7824c9cb1ed97f4048ec2c1.png)

Â **è§£å†³æ–¹æ³•ï¼š**

ç‚¹è¿›è“è‰²çš„æ–‡ä»¶é‡Œä¸‹å›¾å¯¹åº”ä½ç½®ï¼Œæ›´æ”¹ forward å‡½æ•°ï¼Œå¤åˆ¶ä¸€éï¼Œå»æ‰ä¸‹é¢ä¸€è¡Œçš„ä»£ç 

![](https://img-blog.csdnimg.cn/f686599e80eb4b6291d6472cd1ba99bf.jpeg)

å†ç‚¹å‡» runï¼Œç»“æœå°±ä¿å­˜åœ¨ runs çš„ detect æ–‡ä»¶ä¸‹äº†

![](https://img-blog.csdnimg.cn/c8ae9317d69c462bae2e359f10bcf00b.png)Â ![](https://img-blog.csdnimg.cn/3a2d3afbc36c45f9877c73c4d8c965d1.png)

**2. æˆ‘ä»¬å†è¿è¡Œ train.py**

![](https://img-blog.csdnimg.cn/0640586c51d8498ab5e037503eef7bb5.png)

åŒæ ·ä¼šå‘ç”ŸæŠ¥é”™

0SError: [winError 1455] é¡µé¢æ–‡ä»¶å¤ªå°ï¼Œæ— æ³•å®Œæˆæ“ä½œã€‚Error loading"D:\Anaconda3\envslyolov5-6.1lib\site-packages torch\lib\cudidTT"one of its dependencies

![](https://img-blog.csdnimg.cn/25e2c93a14d6473a8d3003b42945c99a.png)

Â è¿™å°±æ˜¯å› ä¸ºæˆ‘ä»¬ batchsize å’Œ workers è®¾ç½®å¤ªå¤§äº†çš„åŸå› 

Â **è§£å†³æ–¹æ³•ï¼š**

æ‰¾åˆ° train.py çš„ parse_optï¼ˆï¼‰å‡½æ•°ï¼Œå°†å¯¹åº” batchsize å’Œ workers å‚æ•°è°ƒå°ï¼Œå¦‚ä¸‹å›¾ï¼š

![](https://img-blog.csdnimg.cn/94675c0382df4efcb260d0256742caa2.png)

Â ï¼ˆä½ ä»¥ä¸ºè¿™æ ·å°±å®Œäº†å—ï¼ŸNoï¼555~ï¼‰

æ¥ç€åˆä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯ï¼š

OMP: Hint This means that multiple copies of the OpenMp runtime have been linked into theThat is dangerous, since it can degrade performance or cause incorrect results..Â 

![](https://img-blog.csdnimg.cn/df8b83c3608245cbb4a3dc93e11337d3.png)

 **è§£å†³æ–¹æ³•ï¼š**

åœ¨ import os ä¸‹é¢åŠ å…¥

```
os.environ['KMP_DUPLICATE_LIB_OK']='TRUE'

```

Â ![](https://img-blog.csdnimg.cn/d14b4e14ba3c487c8bfdf45722796c9d.png)

Â ï¼ˆè¿™ä¸‹æ²¡é”™äº†å§ï¼Ÿä½ æƒ³å¤šäº†~ï¼‰

ç„¶ååˆä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯ï¼š

RuntimeError: resutt type float can't be cast to the desired output type ._int64Â ![](https://img-blog.csdnimg.cn/298a28a749344de580f50c368e537c4d.png)

 **è§£å†³æ–¹æ³•ï¼š**

é¦–å…ˆè¿›å…¥ loss.py æ–‡ä»¶ï¼Œå°† anchors = self.anchors[i] æ”¹ä¸º

```
anchors, shape = self.anchors[i], p[i].shape

```

![](https://img-blog.csdnimg.cn/76d4db6a21ad4ebdb87750bbaf61fc3c.png)

**â†“** ![](https://img-blog.csdnimg.cn/8d4118b53bed4a6ebc02bb464ddd8983.png)

Â æ¥ç€å¾€ä¸‹ç¿»ï¼Œå°† indices.append((b, a, gj.clamp_(o, gain[3] - 1), gi.clamp_(0, gain[2] - 1)) æ”¹ä¸º

```
indices.append((b, a, gj.clamp_(0, shape[2] - 1), gi.clamp_(0, shape[3] - 1)))

```

![](https://img-blog.csdnimg.cn/bce300638f4d499badeeec320936e17f.png)

**â†“** ![](https://img-blog.csdnimg.cn/fee952eb79ad4704bddd5e1d0c5e1354.png)

Â åˆ°è¿™ç»ˆäºèƒ½è¿è¡Œå•¦ï¼æ’’èŠ±âœ¿âœ¿ãƒ½ (Â°â–½Â°) ãƒâœ¿

![](https://img-blog.csdnimg.cn/9748167f8ac649c1b5e980f2c8dfafe2.png)

Â ï¼ˆè®­ç»ƒæ—¶é”™è¯¯æœ¬æ¥å°±æœ‰å¾ˆå¤šï¼Œä½†æ˜¯é”™è¯¯åŸå› ç½‘ä¸Šéƒ½èƒ½æ‰¾åˆ°çš„å“¦~ï¼‰

åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ç¯å¢ƒå°±é…å¥½äº†ã€‚

æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘é€šè¿‡å½•å±å¤ç›˜æ€»ç»“çš„ï¼Œå¯èƒ½æœ‰ä¸€äº›åœ°æ–¹æœ‰é—å¿˜ï¼Œå¤§å®¶è¦æ˜¯é…ç½®è¿‡ç¨‹ä¸­æœ‰é—®é¢˜è¿˜æ˜¯è¦çœ‹çœ‹å¤§ä½¬ä»¬çš„æ•™ç¨‹ï¼ˆæ„Ÿè°¢å¤§ä½¬ä»¬ï¼ï¼‰Â å¥½äº†ï¼Œæˆ‘è¿™ä¸ªå°ç™½å…ˆæ’¤äº†~ ä¸‹ä¸€ç¯‡å†è§å•¦ï¼

> æœ¬æ–‡å‚è€ƒï¼š
> 
> [CUDA ä¸ cuDNN å®‰è£…æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰_kylinmin çš„åšå®¢ - CSDN åšå®¢](https://blog.csdn.net/anmin8888/article/details/127910084?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168074450216800192219938%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168074450216800192219938&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-127910084-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=CUDA&spm=1018.2226.3001.4187 "CUDAä¸cuDNNå®‰è£…æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰_kylinminçš„åšå®¢-CSDNåšå®¢")
> 
> [ã€é›¶åŸºç¡€ä¸Šæ‰‹ yolov5ã€‘yolov5 çš„å®‰è£…ä¸ç›¸å…³ç¯å¢ƒçš„æ­å»º_ç½…éš™ ` çš„åšå®¢ - CSDN åšå®¢](https://blog.csdn.net/whc18858/article/details/127131741?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168068781616800217279306%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168068781616800217279306&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-5-127131741-null-null.142%5Ev81%5Ekoosearch_v1,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&utm_term=yolov5%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE&spm=1018.2226.3001.4187 "ã€é›¶åŸºç¡€ä¸Šæ‰‹yolov5ã€‘yolov5çš„å®‰è£…ä¸ç›¸å…³ç¯å¢ƒçš„æ­å»º_ç½…éš™`çš„åšå®¢-CSDNåšå®¢  ")

![](https://img-blog.csdnimg.cn/55f80a8aec4f47c7bfbce91fd2ad2291.gif)